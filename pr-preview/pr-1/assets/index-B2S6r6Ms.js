const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-a422543c-DMpsRxkS.js","assets/index-DsWdtVob.js","assets/index-CWAZpT7W.css","assets/bowser-D2hrZ_xZ.js"])))=>i.map(i=>d[i]);
import{a as be,c2 as jt}from"./index-DsWdtVob.js";import{W as Ke,B as Yt}from"./bowser-D2hrZ_xZ.js";function le(r){return new Uint8Array(r)}function _e(r){return new Int32Array(r)}function Ge(r){return new Float64Array(r)}function $t(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=0,e=r;n<e.length;n++){var o=e[n];if(!(o instanceof Uint8Array))throw new TypeError("unexpected type, use ByteArray")}}function qt(r,t,n,e,o){var i,a=0;for(i=0;i<o;i++)a|=r[t+i]^n[e+i];return(1&a-1>>>8)-1}function bt(r,t,n,e){return qt(r,t,n,e,32)}function m(r){var t=Ge(16);if(r)for(var n=0;n<r.length;n++)t[n]=r[n];return t}var Ft=le(32);Ft[0]=9;var je=m(),Me=m([1]);m([56129,1]);var Gt=m([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),zt=m([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Xe=m([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ve=m([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ht=m([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function we(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]+n[e]}function ye(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]-n[e]}function W(r,t,n){var e,o,i=0,a=0,s=0,f=0,h=0,c=0,w=0,b=0,y=0,A=0,E=0,I=0,S=0,_=0,L=0,U=0,z=0,R=0,M=0,O=0,T=0,l=0,u=0,x=0,p=0,g=0,v=0,J=0,oe=0,ie=0,he=0,N=n[0],k=n[1],j=n[2],Y=n[3],P=n[4],B=n[5],D=n[6],G=n[7],C=n[8],$=n[9],q=n[10],F=n[11],H=n[12],V=n[13],Q=n[14],Z=n[15];e=t[0],i+=e*N,a+=e*k,s+=e*j,f+=e*Y,h+=e*P,c+=e*B,w+=e*D,b+=e*G,y+=e*C,A+=e*$,E+=e*q,I+=e*F,S+=e*H,_+=e*V,L+=e*Q,U+=e*Z,e=t[1],a+=e*N,s+=e*k,f+=e*j,h+=e*Y,c+=e*P,w+=e*B,b+=e*D,y+=e*G,A+=e*C,E+=e*$,I+=e*q,S+=e*F,_+=e*H,L+=e*V,U+=e*Q,z+=e*Z,e=t[2],s+=e*N,f+=e*k,h+=e*j,c+=e*Y,w+=e*P,b+=e*B,y+=e*D,A+=e*G,E+=e*C,I+=e*$,S+=e*q,_+=e*F,L+=e*H,U+=e*V,z+=e*Q,R+=e*Z,e=t[3],f+=e*N,h+=e*k,c+=e*j,w+=e*Y,b+=e*P,y+=e*B,A+=e*D,E+=e*G,I+=e*C,S+=e*$,_+=e*q,L+=e*F,U+=e*H,z+=e*V,R+=e*Q,M+=e*Z,e=t[4],h+=e*N,c+=e*k,w+=e*j,b+=e*Y,y+=e*P,A+=e*B,E+=e*D,I+=e*G,S+=e*C,_+=e*$,L+=e*q,U+=e*F,z+=e*H,R+=e*V,M+=e*Q,O+=e*Z,e=t[5],c+=e*N,w+=e*k,b+=e*j,y+=e*Y,A+=e*P,E+=e*B,I+=e*D,S+=e*G,_+=e*C,L+=e*$,U+=e*q,z+=e*F,R+=e*H,M+=e*V,O+=e*Q,T+=e*Z,e=t[6],w+=e*N,b+=e*k,y+=e*j,A+=e*Y,E+=e*P,I+=e*B,S+=e*D,_+=e*G,L+=e*C,U+=e*$,z+=e*q,R+=e*F,M+=e*H,O+=e*V,T+=e*Q,l+=e*Z,e=t[7],b+=e*N,y+=e*k,A+=e*j,E+=e*Y,I+=e*P,S+=e*B,_+=e*D,L+=e*G,U+=e*C,z+=e*$,R+=e*q,M+=e*F,O+=e*H,T+=e*V,l+=e*Q,u+=e*Z,e=t[8],y+=e*N,A+=e*k,E+=e*j,I+=e*Y,S+=e*P,_+=e*B,L+=e*D,U+=e*G,z+=e*C,R+=e*$,M+=e*q,O+=e*F,T+=e*H,l+=e*V,u+=e*Q,x+=e*Z,e=t[9],A+=e*N,E+=e*k,I+=e*j,S+=e*Y,_+=e*P,L+=e*B,U+=e*D,z+=e*G,R+=e*C,M+=e*$,O+=e*q,T+=e*F,l+=e*H,u+=e*V,x+=e*Q,p+=e*Z,e=t[10],E+=e*N,I+=e*k,S+=e*j,_+=e*Y,L+=e*P,U+=e*B,z+=e*D,R+=e*G,M+=e*C,O+=e*$,T+=e*q,l+=e*F,u+=e*H,x+=e*V,p+=e*Q,g+=e*Z,e=t[11],I+=e*N,S+=e*k,_+=e*j,L+=e*Y,U+=e*P,z+=e*B,R+=e*D,M+=e*G,O+=e*C,T+=e*$,l+=e*q,u+=e*F,x+=e*H,p+=e*V,g+=e*Q,v+=e*Z,e=t[12],S+=e*N,_+=e*k,L+=e*j,U+=e*Y,z+=e*P,R+=e*B,M+=e*D,O+=e*G,T+=e*C,l+=e*$,u+=e*q,x+=e*F,p+=e*H,g+=e*V,v+=e*Q,J+=e*Z,e=t[13],_+=e*N,L+=e*k,U+=e*j,z+=e*Y,R+=e*P,M+=e*B,O+=e*D,T+=e*G,l+=e*C,u+=e*$,x+=e*q,p+=e*F,g+=e*H,v+=e*V,J+=e*Q,oe+=e*Z,e=t[14],L+=e*N,U+=e*k,z+=e*j,R+=e*Y,M+=e*P,O+=e*B,T+=e*D,l+=e*G,u+=e*C,x+=e*$,p+=e*q,g+=e*F,v+=e*H,J+=e*V,oe+=e*Q,ie+=e*Z,e=t[15],U+=e*N,z+=e*k,R+=e*j,M+=e*Y,O+=e*P,T+=e*B,l+=e*D,u+=e*G,x+=e*C,p+=e*$,g+=e*q,v+=e*F,J+=e*H,oe+=e*V,ie+=e*Q,he+=e*Z,i+=38*z,a+=38*R,s+=38*M,f+=38*O,h+=38*T,c+=38*l,w+=38*u,b+=38*x,y+=38*p,A+=38*g,E+=38*v,I+=38*J,S+=38*oe,_+=38*ie,L+=38*he,o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-o*65536,e=a+o+65535,o=Math.floor(e/65536),a=e-o*65536,e=s+o+65535,o=Math.floor(e/65536),s=e-o*65536,e=f+o+65535,o=Math.floor(e/65536),f=e-o*65536,e=h+o+65535,o=Math.floor(e/65536),h=e-o*65536,e=c+o+65535,o=Math.floor(e/65536),c=e-o*65536,e=w+o+65535,o=Math.floor(e/65536),w=e-o*65536,e=b+o+65535,o=Math.floor(e/65536),b=e-o*65536,e=y+o+65535,o=Math.floor(e/65536),y=e-o*65536,e=A+o+65535,o=Math.floor(e/65536),A=e-o*65536,e=E+o+65535,o=Math.floor(e/65536),E=e-o*65536,e=I+o+65535,o=Math.floor(e/65536),I=e-o*65536,e=S+o+65535,o=Math.floor(e/65536),S=e-o*65536,e=_+o+65535,o=Math.floor(e/65536),_=e-o*65536,e=L+o+65535,o=Math.floor(e/65536),L=e-o*65536,e=U+o+65535,o=Math.floor(e/65536),U=e-o*65536,i+=o-1+37*(o-1),o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-o*65536,e=a+o+65535,o=Math.floor(e/65536),a=e-o*65536,e=s+o+65535,o=Math.floor(e/65536),s=e-o*65536,e=f+o+65535,o=Math.floor(e/65536),f=e-o*65536,e=h+o+65535,o=Math.floor(e/65536),h=e-o*65536,e=c+o+65535,o=Math.floor(e/65536),c=e-o*65536,e=w+o+65535,o=Math.floor(e/65536),w=e-o*65536,e=b+o+65535,o=Math.floor(e/65536),b=e-o*65536,e=y+o+65535,o=Math.floor(e/65536),y=e-o*65536,e=A+o+65535,o=Math.floor(e/65536),A=e-o*65536,e=E+o+65535,o=Math.floor(e/65536),E=e-o*65536,e=I+o+65535,o=Math.floor(e/65536),I=e-o*65536,e=S+o+65535,o=Math.floor(e/65536),S=e-o*65536,e=_+o+65535,o=Math.floor(e/65536),_=e-o*65536,e=L+o+65535,o=Math.floor(e/65536),L=e-o*65536,e=U+o+65535,o=Math.floor(e/65536),U=e-o*65536,i+=o-1+37*(o-1),r[0]=i,r[1]=a,r[2]=s,r[3]=f,r[4]=h,r[5]=c,r[6]=w,r[7]=b,r[8]=y,r[9]=A,r[10]=E,r[11]=I,r[12]=S,r[13]=_,r[14]=L,r[15]=U}function ge(r,t){W(r,t,t)}function de(r,t){for(var n=0;n<16;n++)r[n]=t[n]|0}function We(r){var t,n,e=1;for(t=0;t<16;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-e*65536;r[0]+=e-1+37*(e-1)}function yt(r,t,n){for(var e,o=~(n-1),i=0;i<16;i++)e=o&(r[i]^t[i]),r[i]^=e,t[i]^=e}function Ne(r,t){var n=m(),e=m(),o,i,a;for(o=0;o<16;o++)e[o]=t[o];for(We(e),We(e),We(e),i=0;i<2;i++){for(n[0]=e[0]-65517,o=1;o<15;o++)n[o]=e[o]-65535-(n[o-1]>>16&1),n[o-1]&=65535;n[15]=e[15]-32767-(n[14]>>16&1),a=n[15]>>16&1,n[14]&=65535,yt(e,n,1-a)}for(o=0;o<16;o++)r[2*o]=e[o]&255,r[2*o+1]=e[o]>>8}function Qe(r,t){var n=le(32),e=le(32);return Ne(n,r),Ne(e,t),bt(n,0,e,0)}function mt(r){var t=le(32);return Ne(t,r),t[0]&1}function Jt(r,t){for(var n=0;n<16;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function Kt(r,t){var n=m(),e;for(e=0;e<16;e++)n[e]=t[e];for(e=253;e>=0;e--)ge(n,n),e!==2&&e!==4&&W(n,n,t);for(e=0;e<16;e++)r[e]=n[e]}function Xt(r,t,n){var e=_e(8),o=_e(8),i=le(256),a,s=n;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,et(e,o,t,n),n%=128,a=0;a<n;a++)i[a]=t[s-n+a];for(i[n]=128,n=256-128*(n<112?1:0),i[n-9]=0,tt(i,n-8,s/536870912|0,s<<3),et(e,o,i,n),a=0;a<8;a++)tt(r,8*a,e[a],o[a]);return 0}var Ze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function et(r,t,n,e){for(var o=_e(16),i=_e(16),a,s,f,h,c,w,b,y,A,E,I,S,_,L,U,z,R,M,O,T,l,u,x,p,g,v,J=r[0],oe=r[1],ie=r[2],he=r[3],N=r[4],k=r[5],j=r[6],Y=r[7],P=t[0],B=t[1],D=t[2],G=t[3],C=t[4],$=t[5],q=t[6],F=t[7],H=0;e>=128;){for(O=0;O<16;O++)T=8*O+H,o[O]=n[T+0]<<24|n[T+1]<<16|n[T+2]<<8|n[T+3],i[O]=n[T+4]<<24|n[T+5]<<16|n[T+6]<<8|n[T+7];for(O=0;O<80;O++)if(a=J,s=oe,f=ie,h=he,c=N,w=k,b=j,y=Y,A=P,E=B,I=D,S=G,_=C,L=$,U=q,z=F,l=Y,u=F,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=(N>>>14|C<<18)^(N>>>18|C<<14)^(C>>>9|N<<23),u=(C>>>14|N<<18)^(C>>>18|N<<14)^(N>>>9|C<<23),x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,l=N&k^~N&j,u=C&$^~C&q,x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,l=Ze[O*2],u=Ze[O*2+1],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,l=o[O%16],u=i[O%16],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,R=g&65535|v<<16,M=x&65535|p<<16,l=R,u=M,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=(J>>>28|P<<4)^(P>>>2|J<<30)^(P>>>7|J<<25),u=(P>>>28|J<<4)^(J>>>2|P<<30)^(J>>>7|P<<25),x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,l=J&oe^J&ie^oe&ie,u=P&B^P&D^B&D,x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,y=g&65535|v<<16,z=x&65535|p<<16,l=h,u=S,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=R,u=M,x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,h=g&65535|v<<16,S=x&65535|p<<16,oe=a,ie=s,he=f,N=h,k=c,j=w,Y=b,J=y,B=A,D=E,G=I,C=S,$=_,q=L,F=U,P=z,O%16===15)for(T=0;T<16;T++)l=o[T],u=i[T],x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=o[(T+9)%16],u=i[(T+9)%16],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,R=o[(T+1)%16],M=i[(T+1)%16],l=(R>>>1|M<<31)^(R>>>8|M<<24)^R>>>7,u=(M>>>1|R<<31)^(M>>>8|R<<24)^(M>>>7|R<<25),x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,R=o[(T+14)%16],M=i[(T+14)%16],l=(R>>>19|M<<13)^(M>>>29|R<<3)^R>>>6,u=(M>>>19|R<<13)^(R>>>29|M<<3)^(M>>>6|R<<26),x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,o[T]=g&65535|v<<16,i[T]=x&65535|p<<16;l=J,u=P,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[0],u=t[0],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[0]=J=g&65535|v<<16,t[0]=P=x&65535|p<<16,l=oe,u=B,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[1],u=t[1],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[1]=oe=g&65535|v<<16,t[1]=B=x&65535|p<<16,l=ie,u=D,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[2],u=t[2],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[2]=ie=g&65535|v<<16,t[2]=D=x&65535|p<<16,l=he,u=G,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[3],u=t[3],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[3]=he=g&65535|v<<16,t[3]=G=x&65535|p<<16,l=N,u=C,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[4],u=t[4],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[4]=N=g&65535|v<<16,t[4]=C=x&65535|p<<16,l=k,u=$,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[5],u=t[5],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[5]=k=g&65535|v<<16,t[5]=$=x&65535|p<<16,l=j,u=q,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[6],u=t[6],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[6]=j=g&65535|v<<16,t[6]=q=x&65535|p<<16,l=Y,u=F,x=u&65535,p=u>>>16,g=l&65535,v=l>>>16,l=r[7],u=t[7],x+=u&65535,p+=u>>>16,g+=l&65535,v+=l>>>16,p+=x>>>16,g+=p>>>16,v+=g>>>16,r[7]=Y=g&65535|v<<16,t[7]=F=x&65535|p<<16,H+=128,e-=128}return e}function tt(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=n&255,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=e&255}function Vt(r,t,n){if($t(r,t,n),t.length!==64)throw new Error("bad signature size");if(n.length!==32)throw new Error("bad public key size");var e=le(64+r.length),o=le(64+r.length),i;for(i=0;i<64;i++)e[i]=t[i];for(i=0;i<r.length;i++)e[i+64]=r[i];return Qt(o,e,e.length,n)>=0}function Qt(r,t,n,e){var o=le(32),i=le(64),a=[m(),m(),m(),m()],s=[m(),m(),m(),m()],f,h;if(h=-1,n<64||tr(s,e))return-1;for(f=0;f<n;f++)r[f]=t[f];for(f=0;f<32;f++)r[f+32]=e[f];if(Xt(i,r,n),rr(i),At(a,s,i),Zt(s,t.subarray(32)),Ye(a,s),er(o,a),n-=64,bt(t,0,o,0)){for(f=0;f<n;f++)r[f]=0;return-1}for(f=0;f<n;f++)r[f]=t[f+64];return h=n,h}function Zt(r,t){var n=[m(),m(),m(),m()];de(n[0],Xe),de(n[1],Ve),de(n[2],Me),W(n[3],Xe,Ve),At(r,n,t)}function At(r,t,n){var e,o;for(de(r[0],je),de(r[1],Me),de(r[2],Me),de(r[3],je),o=255;o>=0;--o)e=n[o/8|0]>>(o&7)&1,rt(r,t,e),Ye(t,r),Ye(r,r),rt(r,t,e)}function er(r,t){var n=m(),e=m(),o=m();Kt(o,t[2]),W(n,t[0],o),W(e,t[1],o),Ne(r,e),r[31]^=mt(n)<<7}function tr(r,t){var n=m(),e=m(),o=m(),i=m(),a=m(),s=m(),f=m();return de(r[2],Me),Jt(r[1],t),ge(o,r[1]),W(i,o,Gt),ye(o,o,r[2]),we(i,r[2],i),ge(a,i),ge(s,a),W(f,s,a),W(n,f,o),W(n,n,i),or(n,n),W(n,n,o),W(n,n,i),W(n,n,i),W(r[0],n,i),ge(e,r[0]),W(e,e,i),Qe(e,o)&&W(r[0],r[0],Ht),ge(e,r[0]),W(e,e,i),Qe(e,o)?-1:(mt(r[0])===t[31]>>7&&ye(r[0],je,r[0]),W(r[3],r[0],r[1]),0)}function rr(r){var t=Ge(64),n;for(n=0;n<64;n++)t[n]=r[n];for(n=0;n<64;n++)r[n]=0;nr(r,t)}var Be=Ge([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function nr(r,t){var n,e,o,i;for(e=63;e>=32;--e){for(n=0,o=e-32,i=e-12;o<i;++o)t[o]+=n-16*t[e]*Be[o-(e-32)],n=t[o]+128>>8,t[o]-=n*256;t[o]+=n,t[e]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*Be[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*Be[o];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,r[e]=t[e]&255}function Ye(r,t){var n=m(),e=m(),o=m(),i=m(),a=m(),s=m(),f=m(),h=m(),c=m();ye(n,r[1],r[0]),ye(c,t[1],t[0]),W(n,n,c),we(e,r[0],r[1]),we(c,t[0],t[1]),W(e,e,c),W(o,r[3],t[3]),W(o,o,zt),W(i,r[2],t[2]),we(i,i,i),ye(a,e,n),ye(s,i,o),we(f,i,o),we(h,e,n),W(r[0],a,s),W(r[1],h,f),W(r[2],f,s),W(r[3],a,h)}function rt(r,t,n){for(var e=0;e<4;e++)yt(r[e],t[e],n)}function or(r,t){var n=m(),e;for(e=0;e<16;e++)n[e]=t[e];for(e=250;e>=0;e--)ge(n,n),e!==1&&W(n,n,t);for(e=0;e<16;e++)r[e]=n[e]}var nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},ae=[],re=[],ir=typeof Uint8Array<"u"?Uint8Array:Array,ze=!1;function Et(){ze=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)ae[t]=r[t],re[r.charCodeAt(t)]=t;re[45]=62,re[95]=63}function ar(r,t,n){for(var e,o,i=[],a=t;a<n;a+=3)e=(r[a]<<16)+(r[a+1]<<8)+r[a+2],i.push(ae[(o=e)>>18&63]+ae[o>>12&63]+ae[o>>6&63]+ae[63&o]);return i.join("")}function ot(r){var t;ze||Et();for(var n=r.length,e=n%3,o="",i=[],a=16383,s=0,f=n-e;s<f;s+=a)i.push(ar(r,s,s+a>f?f:s+a));return e===1?(t=r[n-1],o+=ae[t>>2],o+=ae[t<<4&63],o+="=="):e===2&&(t=(r[n-2]<<8)+r[n-1],o+=ae[t>>10],o+=ae[t>>4&63],o+=ae[t<<2&63],o+="="),i.push(o),i.join("")}function Re(r,t,n,e,o){var i,a,s=8*o-e-1,f=(1<<s)-1,h=f>>1,c=-7,w=n?o-1:0,b=n?-1:1,y=r[t+w];for(w+=b,i=y&(1<<-c)-1,y>>=-c,c+=s;c>0;i=256*i+r[t+w],w+=b,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=e;c>0;a=256*a+r[t+w],w+=b,c-=8);if(i===0)i=1-h;else{if(i===f)return a?NaN:1/0*(y?-1:1);a+=Math.pow(2,e),i-=h}return(y?-1:1)*a*Math.pow(2,i-e)}function Tt(r,t,n,e,o,i){var a,s,f,h=8*i-o-1,c=(1<<h)-1,w=c>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=e?0:i-1,A=e?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),(t+=a+w>=1?b/f:b*Math.pow(2,1-w))*f>=2&&(a++,f/=2),a+w>=c?(s=0,a=c):a+w>=1?(s=(t*f-1)*Math.pow(2,o),a+=w):(s=t*Math.pow(2,w-1)*Math.pow(2,o),a=0));o>=8;r[n+y]=255&s,y+=A,s/=256,o-=8);for(a=a<<o|s,h+=o;h>0;r[n+y]=255&a,y+=A,a/=256,h-=8);r[n+y-A]|=128*E}var sr={}.toString,Rt=Array.isArray||function(r){return sr.call(r)=="[object Array]"};function Pe(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ce(r,t){if(Pe()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=d.prototype:(r===null&&(r=new d(t)),r.length=t),r}function d(r,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(r,t,n);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return $e(this,r)}return It(this,r,t,n)}function It(r,t,n,e){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?function(o,i,a,s){if(i.byteLength,a<0||i.byteLength<a)throw new RangeError("'offset' is out of bounds");if(i.byteLength<a+(s||0))throw new RangeError("'length' is out of bounds");return i=a===void 0&&s===void 0?new Uint8Array(i):s===void 0?new Uint8Array(i,a):new Uint8Array(i,a,s),d.TYPED_ARRAY_SUPPORT?(o=i).__proto__=d.prototype:o=De(o,i),o}(r,t,n,e):typeof t=="string"?function(o,i,a){if(typeof a=="string"&&a!==""||(a="utf8"),!d.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var s=0|_t(i,a);o=ce(o,s);var f=o.write(i,a);return f!==s&&(o=o.slice(0,f)),o}(r,t,n):function(o,i){if(se(i)){var a=0|He(i.length);return(o=ce(o,a)).length===0||i.copy(o,0,0,a),o}if(i){if(typeof ArrayBuffer<"u"&&i.buffer instanceof ArrayBuffer||"length"in i)return typeof i.length!="number"||(s=i.length)!=s?ce(o,0):De(o,i);if(i.type==="Buffer"&&Rt(i.data))return De(o,i.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}function St(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function $e(r,t){if(St(t),r=ce(r,t<0?0:0|He(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function De(r,t){var n=t.length<0?0:0|He(t.length);r=ce(r,n);for(var e=0;e<n;e+=1)r[e]=255&t[e];return r}function He(r){if(r>=Pe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pe().toString(16)+" bytes");return 0|r}function se(r){return!(r==null||!r._isBuffer)}function _t(r,t){if(se(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var n=r.length;if(n===0)return 0;for(var e=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Ce(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ct(r).length;default:if(e)return Ce(r).length;t=(""+t).toLowerCase(),e=!0}}function fr(r,t,n){var e=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return vr(this,t,n);case"utf8":case"utf-8":return Nt(this,t,n);case"ascii":return gr(this,t,n);case"latin1":case"binary":return xr(this,t,n);case"base64":return pr(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wr(this,t,n);default:if(e)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),e=!0}}function pe(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function it(r,t,n,e,o){if(r.length===0)return-1;if(typeof n=="string"?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if(typeof t=="string"&&(t=d.from(t,e)),se(t))return t.length===0?-1:at(r,t,n,e,o);if(typeof t=="number")return t&=255,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):at(r,[t],n,e,o);throw new TypeError("val must be string, number or Buffer")}function at(r,t,n,e,o){var i,a=1,s=r.length,f=t.length;if(e!==void 0&&((e=String(e).toLowerCase())==="ucs2"||e==="ucs-2"||e==="utf16le"||e==="utf-16le")){if(r.length<2||t.length<2)return-1;a=2,s/=2,f/=2,n/=2}function h(y,A){return a===1?y[A]:y.readUInt16BE(A*a)}if(o){var c=-1;for(i=n;i<s;i++)if(h(r,i)===h(t,c===-1?0:i-c)){if(c===-1&&(c=i),i-c+1===f)return c*a}else c!==-1&&(i-=i-c),c=-1}else for(n+f>s&&(n=s-f),i=n;i>=0;i--){for(var w=!0,b=0;b<f;b++)if(h(r,i+b)!==h(t,b)){w=!1;break}if(w)return i}return-1}function cr(r,t,n,e){n=Number(n)||0;var o=r.length-n;e?(e=Number(e))>o&&(e=o):e=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");e>i/2&&(e=i/2);for(var a=0;a<e;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;r[n+a]=s}return a}function lr(r,t,n,e){return Le(Ce(t,r.length-n),r,n,e)}function Mt(r,t,n,e){return Le(function(o){for(var i=[],a=0;a<o.length;++a)i.push(255&o.charCodeAt(a));return i}(t),r,n,e)}function ur(r,t,n,e){return Mt(r,t,n,e)}function dr(r,t,n,e){return Le(Ct(t),r,n,e)}function hr(r,t,n,e){return Le(function(o,i){for(var a,s,f,h=[],c=0;c<o.length&&!((i-=2)<0);++c)s=(a=o.charCodeAt(c))>>8,f=a%256,h.push(f),h.push(s);return h}(t,r.length-n),r,n,e)}function pr(r,t,n){return t===0&&n===r.length?ot(r):ot(r.slice(t,n))}function Nt(r,t,n){n=Math.min(r.length,n);for(var e=[],o=t;o<n;){var i,a,s,f,h=r[o],c=null,w=h>239?4:h>223?3:h>191?2:1;if(o+w<=n)switch(w){case 1:h<128&&(c=h);break;case 2:(192&(i=r[o+1]))==128&&(f=(31&h)<<6|63&i)>127&&(c=f);break;case 3:i=r[o+1],a=r[o+2],(192&i)==128&&(192&a)==128&&(f=(15&h)<<12|(63&i)<<6|63&a)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:i=r[o+1],a=r[o+2],s=r[o+3],(192&i)==128&&(192&a)==128&&(192&s)==128&&(f=(15&h)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&f<1114112&&(c=f)}c===null?(c=65533,w=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),o+=w}return function(b){var y=b.length;if(y<=st)return String.fromCharCode.apply(String,b);for(var A="",E=0;E<y;)A+=String.fromCharCode.apply(String,b.slice(E,E+=st));return A}(e)}d.TYPED_ARRAY_SUPPORT=nt.TYPED_ARRAY_SUPPORT===void 0||nt.TYPED_ARRAY_SUPPORT,Pe(),d.poolSize=8192,d._augment=function(r){return r.__proto__=d.prototype,r},d.from=function(r,t,n){return It(null,r,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array),d.alloc=function(r,t,n){return function(e,o,i,a){return St(o),o<=0?ce(e,o):i!==void 0?typeof a=="string"?ce(e,o).fill(i,a):ce(e,o).fill(i):ce(e,o)}(null,r,t,n)},d.allocUnsafe=function(r){return $e(null,r)},d.allocUnsafeSlow=function(r){return $e(null,r)},d.isBuffer=function(r){return r!=null&&(!!r._isBuffer||lt(r)||function(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&lt(t.slice(0,0))}(r))},d.compare=function(r,t){if(!se(r)||!se(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,e=t.length,o=0,i=Math.min(n,e);o<i;++o)if(r[o]!==t[o]){n=r[o],e=t[o];break}return n<e?-1:e<n?1:0},d.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(r,t){if(!Rt(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return d.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=d.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){var i=r[n];if(!se(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,o),o+=i.length}return e},d.byteLength=_t,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)pe(this,t,t+1);return this},d.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)pe(this,t,t+3),pe(this,t+1,t+2);return this},d.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)pe(this,t,t+7),pe(this,t+1,t+6),pe(this,t+2,t+5),pe(this,t+3,t+4);return this},d.prototype.toString=function(){var r=0|this.length;return r===0?"":arguments.length===0?Nt(this,0,r):fr.apply(this,arguments)},d.prototype.equals=function(r){if(!se(r))throw new TypeError("Argument must be a Buffer");return this===r||d.compare(this,r)===0},d.prototype.inspect=function(){var r="";return this.length>0&&(r=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(r+=" ... ")),"<Buffer "+r+">"},d.prototype.compare=function(r,t,n,e,o){if(!se(r))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),e===void 0&&(e=0),o===void 0&&(o=this.length),t<0||n>r.length||e<0||o>this.length)throw new RangeError("out of range index");if(e>=o&&t>=n)return 0;if(e>=o)return-1;if(t>=n)return 1;if(this===r)return 0;for(var i=(o>>>=0)-(e>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),f=this.slice(e,o),h=r.slice(t,n),c=0;c<s;++c)if(f[c]!==h[c]){i=f[c],a=h[c];break}return i<a?-1:a<i?1:0},d.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1},d.prototype.indexOf=function(r,t,n){return it(this,r,t,n,!0)},d.prototype.lastIndexOf=function(r,t,n){return it(this,r,t,n,!1)},d.prototype.write=function(r,t,n,e){if(t===void 0)e="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")e=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,e===void 0&&(e="utf8")):(e=n,n=void 0)}var o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var i=!1;;)switch(e){case"hex":return cr(this,r,t,n);case"utf8":case"utf-8":return lr(this,r,t,n);case"ascii":return Mt(this,r,t,n);case"latin1":case"binary":return ur(this,r,t,n);case"base64":return dr(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hr(this,r,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),i=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var st=4096;function gr(r,t,n){var e="";n=Math.min(r.length,n);for(var o=t;o<n;++o)e+=String.fromCharCode(127&r[o]);return e}function xr(r,t,n){var e="";n=Math.min(r.length,n);for(var o=t;o<n;++o)e+=String.fromCharCode(r[o]);return e}function vr(r,t,n){var e=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>e)&&(n=e);for(var o="",i=t;i<n;++i)o+=yr(r[i]);return o}function wr(r,t,n){for(var e=r.slice(t,n),o="",i=0;i<e.length;i+=2)o+=String.fromCharCode(e[i]+256*e[i+1]);return o}function K(r,t,n){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}function ee(r,t,n,e,o,i){if(!se(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+e>r.length)throw new RangeError("Index out of range")}function Ie(r,t,n,e){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(r.length-n,2);o<i;++o)r[n+o]=(t&255<<8*(e?o:1-o))>>>8*(e?o:1-o)}function Se(r,t,n,e){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(r.length-n,4);o<i;++o)r[n+o]=t>>>8*(e?o:3-o)&255}function Pt(r,t,n,e,o,i){if(n+e>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ft(r,t,n,e,o){return o||Pt(r,0,n,4),Tt(r,t,n,e,23,4),n+4}function ct(r,t,n,e,o){return o||Pt(r,0,n,8),Tt(r,t,n,e,52,8),n+8}d.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=t===void 0?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=d.prototype;else{var o=t-r;n=new d(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+r]}return n},d.prototype.readUIntLE=function(r,t,n){r|=0,t|=0,n||K(r,t,this.length);for(var e=this[r],o=1,i=0;++i<t&&(o*=256);)e+=this[r+i]*o;return e},d.prototype.readUIntBE=function(r,t,n){r|=0,t|=0,n||K(r,t,this.length);for(var e=this[r+--t],o=1;t>0&&(o*=256);)e+=this[r+--t]*o;return e},d.prototype.readUInt8=function(r,t){return t||K(r,1,this.length),this[r]},d.prototype.readUInt16LE=function(r,t){return t||K(r,2,this.length),this[r]|this[r+1]<<8},d.prototype.readUInt16BE=function(r,t){return t||K(r,2,this.length),this[r]<<8|this[r+1]},d.prototype.readUInt32LE=function(r,t){return t||K(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},d.prototype.readUInt32BE=function(r,t){return t||K(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},d.prototype.readIntLE=function(r,t,n){r|=0,t|=0,n||K(r,t,this.length);for(var e=this[r],o=1,i=0;++i<t&&(o*=256);)e+=this[r+i]*o;return e>=(o*=128)&&(e-=Math.pow(2,8*t)),e},d.prototype.readIntBE=function(r,t,n){r|=0,t|=0,n||K(r,t,this.length);for(var e=t,o=1,i=this[r+--e];e>0&&(o*=256);)i+=this[r+--e]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},d.prototype.readInt8=function(r,t){return t||K(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},d.prototype.readInt16LE=function(r,t){t||K(r,2,this.length);var n=this[r]|this[r+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(r,t){t||K(r,2,this.length);var n=this[r+1]|this[r]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(r,t){return t||K(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},d.prototype.readInt32BE=function(r,t){return t||K(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},d.prototype.readFloatLE=function(r,t){return t||K(r,4,this.length),Re(this,r,!0,23,4)},d.prototype.readFloatBE=function(r,t){return t||K(r,4,this.length),Re(this,r,!1,23,4)},d.prototype.readDoubleLE=function(r,t){return t||K(r,8,this.length),Re(this,r,!0,52,8)},d.prototype.readDoubleBE=function(r,t){return t||K(r,8,this.length),Re(this,r,!1,52,8)},d.prototype.writeUIntLE=function(r,t,n,e){r=+r,t|=0,n|=0,e||ee(this,r,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&r;++i<n&&(o*=256);)this[t+i]=r/o&255;return t+n},d.prototype.writeUIntBE=function(r,t,n,e){r=+r,t|=0,n|=0,e||ee(this,r,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&r;--o>=0&&(i*=256);)this[t+o]=r/i&255;return t+n},d.prototype.writeUInt8=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=255&r,t+1},d.prototype.writeUInt16LE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):Ie(this,r,t,!0),t+2},d.prototype.writeUInt16BE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):Ie(this,r,t,!1),t+2},d.prototype.writeUInt32LE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r):Se(this,r,t,!0),t+4},d.prototype.writeUInt32BE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):Se(this,r,t,!1),t+4},d.prototype.writeIntLE=function(r,t,n,e){if(r=+r,t|=0,!e){var o=Math.pow(2,8*n-1);ee(this,r,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&r;++i<n&&(a*=256);)r<0&&s===0&&this[t+i-1]!==0&&(s=1),this[t+i]=(r/a|0)-s&255;return t+n},d.prototype.writeIntBE=function(r,t,n,e){if(r=+r,t|=0,!e){var o=Math.pow(2,8*n-1);ee(this,r,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&r;--i>=0&&(a*=256);)r<0&&s===0&&this[t+i+1]!==0&&(s=1),this[t+i]=(r/a|0)-s&255;return t+n},d.prototype.writeInt8=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=255&r,t+1},d.prototype.writeInt16LE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):Ie(this,r,t,!0),t+2},d.prototype.writeInt16BE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):Ie(this,r,t,!1),t+2},d.prototype.writeInt32LE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):Se(this,r,t,!0),t+4},d.prototype.writeInt32BE=function(r,t,n){return r=+r,t|=0,n||ee(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),d.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):Se(this,r,t,!1),t+4},d.prototype.writeFloatLE=function(r,t,n){return ft(this,r,t,!0,n)},d.prototype.writeFloatBE=function(r,t,n){return ft(this,r,t,!1,n)},d.prototype.writeDoubleLE=function(r,t,n){return ct(this,r,t,!0,n)},d.prototype.writeDoubleBE=function(r,t,n){return ct(this,r,t,!1,n)},d.prototype.copy=function(r,t,n,e){if(n||(n=0),e||e===0||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var o,i=e-n;if(this===r&&n<t&&t<e)for(o=i-1;o>=0;--o)r[o+t]=this[o+n];else if(i<1e3||!d.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)r[o+t]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+i),t);return i},d.prototype.fill=function(r,t,n,e){if(typeof r=="string"){if(typeof t=="string"?(e=t,t=0,n=this.length):typeof n=="string"&&(e=n,n=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(e!==void 0&&typeof e!="string")throw new TypeError("encoding must be a string");if(typeof e=="string"&&!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else typeof r=="number"&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=n===void 0?this.length:n>>>0,r||(r=0),typeof r=="number")for(i=t;i<n;++i)this[i]=r;else{var a=se(r)?r:Ce(new d(r,e).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var br=/[^+\/0-9A-Za-z-_]/g;function yr(r){return r<16?"0"+r.toString(16):r.toString(16)}function Ce(r,t){var n;t=t||1/0;for(var e=r.length,o=null,i=[],a=0;a<e;++a){if((n=r.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===e){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ct(r){return function(t){var n,e,o,i,a,s;ze||Et();var f=t.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=t[f-2]==="="?2:t[f-1]==="="?1:0,s=new ir(3*f/4-a),o=a>0?f-4:f;var h=0;for(n=0,e=0;n<o;n+=4,e+=3)i=re[t.charCodeAt(n)]<<18|re[t.charCodeAt(n+1)]<<12|re[t.charCodeAt(n+2)]<<6|re[t.charCodeAt(n+3)],s[h++]=i>>16&255,s[h++]=i>>8&255,s[h++]=255&i;return a===2?(i=re[t.charCodeAt(n)]<<2|re[t.charCodeAt(n+1)]>>4,s[h++]=255&i):a===1&&(i=re[t.charCodeAt(n)]<<10|re[t.charCodeAt(n+1)]<<4|re[t.charCodeAt(n+2)]>>2,s[h++]=i>>8&255,s[h++]=255&i),s}(function(t){if((t=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(t).replace(br,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(r))}function Le(r,t,n,e){for(var o=0;o<e&&!(o+n>=t.length||o>=r.length);++o)t[o+n]=r[o];return o}function lt(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function ne(r,t,n,e){return new(n||(n=Promise))(function(o,i){function a(h){try{f(e.next(h))}catch(c){i(c)}}function s(h){try{f(e.throw(h))}catch(c){i(c)}}function f(h){var c;h.done?o(h.value):(c=h.value,c instanceof n?c:new n(function(w){w(c)})).then(a,s)}f((e=e.apply(r,[])).next())})}class X extends Error{constructor(t,n,...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,X),this.name="PeraWalletConnectError",this.data=t,this.message=n}}const me=new class{constructor(r){this.listener=void 0,this.channel=r.channel}setupListener({onReceiveMessage:r}){this.close(),this.listener=t=>{if(typeof t.data=="object")try{t.data.channel===this.channel&&r(t)}catch(n){console.error(n)}},window.addEventListener("message",this.listener)}sendMessage({message:r,targetWindow:t,origin:n,timeout:e=1e3}){setTimeout(()=>{const o={channel:this.channel,message:r};t.postMessage(o,{targetOrigin:n||"*"})},e)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"}),mr=700,Ar=50;function Er(){const r=document.querySelector('meta[name="name"]'),t=document.querySelector('meta[name="description"]');let{title:n}=document,e="";return r instanceof HTMLMetaElement&&(n=r.content),t instanceof HTMLMetaElement&&(e=t.content),{title:n,description:e,url:window.location.origin,favicon:Tr()[0]}}function Tr(){const r=document.getElementsByTagName("link"),t=[];for(let n=0;n<r.length;n++){const e=r[n],o=e.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const i=e.getAttribute("href");if(i&&i.toLowerCase().indexOf("https:")===-1&&i.toLowerCase().indexOf("http:")===-1&&i.indexOf("//")!==0){let a=`${window.location.protocol}//${window.location.host}`;if(i.indexOf("/")===0)a+=i;else{const s=window.location.pathname.split("/");s.pop(),a+=`${s.join("/")}/${i}`}t.push(a)}else if((i==null?void 0:i.indexOf("//"))===0){const a=window.location.protocol+i;t.push(a)}else i&&t.push(i)}}return t}function Ot(r){return new Promise((t,n)=>{try{const e=window.open(r,"_blank");let o=0;const i=setInterval(()=>{if(o+=1,o===Ar)return clearInterval(i),void n(new X({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."));e&&(e.closed===!0&&(clearInterval(i),n(new X({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),me.sendMessage({message:{type:"TAB_OPEN"},origin:r,targetWindow:e}))},mr);me.setupListener({onReceiveMessage:a=>{a.data.message.type==="TAB_OPEN_RECEIVED"&&(clearInterval(i),t(e))}})}catch(e){n(e)}})}function Ue(){return typeof navigator<"u"}function Rr(){return Ue()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function Ae(){return Ue()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function Lt(){if(!Ue())return null;const{userAgent:r}=navigator;let t;return t=r.match(/DuckDuckGo/i)?"DuckDuckGo":r.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":Yt.getParser(navigator.userAgent).getBrowserName(),t}const Ir="perawallet-wc://",Gr="https://perawallet.app/download/",Sr=[77,88];function Ut(r){return{ROOT:`https://${r}`,CONNECT:`https://${r}/connect`,TRANSACTION_SIGN:`https://${r}/transaction/sign`}}function _r(r=!0){let t=Ir;const n=Lt();return r&&n&&(t=`${t}?browser=${encodeURIComponent(n)}`),t}function Mr(r,t){let n=_r(!1);Rr()&&!n.includes("-wc")&&(n=n.replace("://","-wc://"));let e=`${n}wc?uri=${encodeURIComponent(r)}`;const o=Lt();return Ue()&&/Android/i.test(navigator.userAgent)&&(e=r),o&&(e=`${e}&browser=${encodeURIComponent(o)}`),t!=null&&t.singleAccount&&(e=`${e}&singleAccount=true`),t!=null&&t.selectedAccount&&t.selectedAccount!=="undefined"&&(e=`${e}&selectedAccount=${t.selectedAccount}`),e}const xe="pera-wallet-connect-modal-wrapper",qe="pera-wallet-redirect-modal-wrapper",Fe="pera-wallet-sign-txn-toast-wrapper",zr="pera-wallet-sign-txn-modal-wrapper",Nr="pera-wallet-modal";function Je(r){const t=document.createElement("div");return t.setAttribute("id",r),document.body.appendChild(t),t}function ut(){Je(qe).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function dt(){Je(Fe).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function fe(r){const t=document.getElementById(r);t&&t.remove()}const Ee={WALLET:"PeraWallet.Wallet",WALLETCONNECT:"walletconnect"};function Te(){return typeof localStorage>"u"?void 0:localStorage}function Wt(r,t){var n;(n=Te())===null||n===void 0||n.setItem(Ee.WALLET,JSON.stringify({type:t||"pera-wallet",accounts:r,selectedAccount:r[0]}))}function ke(){var r;const t=(r=Te())===null||r===void 0?void 0:r.getItem(Ee.WALLET);return t?JSON.parse(t):null}function Bt(){return new Promise((r,t)=>{var n,e;try{(n=Te())===null||n===void 0||n.removeItem(Ee.WALLETCONNECT),(e=Te())===null||e===void 0||e.removeItem(Ee.WALLET),r(void 0)}catch(o){t(o)}})}function Pr(r){const t=r.slice();for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}const Cr="https://wc.perawallet.app/config.json";function Or(){return function(r,t={}){return fetch(r,t).then(n=>n.json()).then(n=>n)}(Cr,{cache:"no-store"})}function ve(){return ne(this,void 0,void 0,function*(){let r={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{const t=yield Or();t.web_wallet!==void 0&&t.web_wallet_url&&(r.isWebWalletAvailable=t.web_wallet),t.display_new_badge!==void 0&&(r.shouldDisplayNewBadge=t.display_new_badge),t.use_sound!==void 0&&(r.shouldUseSound=t.use_sound),t.silent!==void 0&&(r.silent=t.silent),t.promote_mobile!==void 0&&(r.promoteMobile=t.promote_mobile),r=Object.assign(Object.assign({},r),{bridgeURL:Pr(t.servers||[])[0]||"",webWalletURL:t.web_wallet_url||""})}catch(t){console.log(t)}return r})}function Oe(r){return Uint8Array.from(window.atob(r),t=>t.charCodeAt(0))}function ht(r,t){return{id:Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:r,params:t}}function pt({method:r,signTxnRequestParams:t,signer:n,chainId:e,webWalletURL:o,resolve:i,reject:a}){const s=Ut(o);(function(){ne(this,void 0,void 0,function*(){try{const f=yield Ot(s.TRANSACTION_SIGN);if(f){let c;r==="SIGN_TXN"?c={type:"SIGN_TXN",txn:t}:r==="SIGN_DATA"&&n&&e&&(c={type:"SIGN_DATA",data:t,signer:n,chainId:e}),c&&me.sendMessage({message:c,origin:s.TRANSACTION_SIGN,targetWindow:f})}const h=setInterval(()=>{(f==null?void 0:f.closed)===!0&&(a(new X({type:`${r}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(h))},2e3);me.setupListener({onReceiveMessage:c=>function({event:w,newPeraWalletTab:b,method:y,resolve:A,reject:E}){switch(w.data.message.type){case"SIGN_TXN_CALLBACK":b==null||b.close(),A(w.data.message.signedTxns.map(I=>Oe(I.signedTxn)));break;case"SIGN_DATA_CALLBACK":b==null||b.close(),A(w.data.message.signedData.map(I=>Oe(I.signedData)));break;case"SIGN_TXN_NETWORK_MISMATCH":E(new X({type:`${y}_NETWORK_MISMATCH`,detail:w.data.message.error},w.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":b==null||b.close(),E(new X({type:`${y}_CANCELLED`},w.data.message.error));break;case"SESSION_DISCONNECTED":b==null||b.close(),Bt(),E(new X({type:"SESSION_DISCONNECTED",detail:w.data.message.error},w.data.message.error))}}({event:c,newPeraWalletTab:f,method:r,resolve:i,reject:a})})}catch(f){a(f)}})})()}function Lr({webWalletURL:r,chainId:t,resolve:n,reject:e}){const o=Ut(r);return function(){return ne(this,void 0,void 0,function*(){try{const a=yield Ot(o.CONNECT);a&&me.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},Er()),{chainId:t})},origin:o.CONNECT,targetWindow:a});const s=setInterval(()=>{(a==null?void 0:a.closed)===!0&&(e(new X({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(s),i())},2e3);me.setupListener({onReceiveMessage:f=>function({event:h,newPeraWalletTab:c,resolve:w,reject:b}){if(w&&h.data.message.type==="CONNECT_CALLBACK"){const y=h.data.message.data.addresses;Wt(y,"pera-wallet-web"),w(y),fe(xe),c==null||c.close()}else h.data.message.type==="CONNECT_NETWORK_MISMATCH"&&(b(new X({type:"CONNECT_NETWORK_MISMATCH",detail:h.data.message.error},h.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),fe(xe),c==null||c.close())}({event:f,newPeraWalletTab:a,resolve:n,reject:e})})}catch(a){i(),e(a)}})};function i(){fe(xe)}}const Dt=416001,kt=416002,gt={clientToken:"0dw4Qu6ckPJTQY540Z0sEokH910KUWKjsf312fxNtTcVjw5UUhhlK4s4odcXIoEz",indexerToken:"KegWFLYQnBNVeP4oHCX64dObBk8VemzYdNqsnAOIxYQ8aqJLQTYeVDQyZNnx1PZA",port:443},Ur={mainnet:{algodev:Object.assign(Object.assign({},gt),{clientServer:"https://node-mainnet.chain.perawallet.app/",indexerServer:"https://indexer-mainnet.chain.perawallet.app/",chainId:Dt})},testnet:{algodev:Object.assign(Object.assign({},gt),{clientServer:"https://node-testnet.chain.perawallet.app/",indexerServer:"https://indexer-testnet.chain.perawallet.app/",chainId:kt})}};function xt(r,t){const{mainnet:n,testnet:e}=Ur,o=r==="mainnet"?n:e;return{tokens:{client:o[t].clientToken,indexer:o[t].indexerToken},server:{client:o[t].clientServer,indexer:o[t].indexerServer},port:o[t].port}}class Wr{constructor({network:t,providerType:n}){const e=xt(t,n);this.providerType=n,this.client=new be.Algodv2(e.tokens.client,e.server.client,e.port),this.indexer=new be.Indexer(e.tokens.indexer,e.server.indexer,e.port)}updateClient(t,n){const e=xt(t,n);this.providerType=n,this.client=new be.Algodv2(e.tokens.client,e.server.client,e.port),this.indexer=new be.Indexer(e.tokens.indexer,e.server.indexer,e.port)}}var te;(function(r){r[r.ParseError=-32700]="ParseError",r[r.InvalidRequest=-32600]="InvalidRequest",r[r.MethodNotFound=-32601]="MethodNotFound",r[r.InvalidParams=-32602]="InvalidParams",r[r.InternalError=-32603]="InternalError",r[r.ServerErrorStart=-32e3]="ServerErrorStart",r[r.ServerErrorEnd=-32099]="ServerErrorEnd"})(te||(te={}));let Br=0;function vt(){const r=Date.now(),t=Br++,n=r.toString().slice(-8),e=t.toString().padStart(4,"0");return parseInt(`${n}${e}`,10)}function wt(r){if(!r||typeof r!="object")return!1;const t=r;return t.jsonrpc==="2.0"&&("result"in t||"error"in t)&&(t.id===null||typeof t.id=="string"||typeof t.id=="number")}class ue extends Error{constructor(t){super(t.message),this.name="JsonRpcError",this.code=t.code,this.data=t.data,Error.captureStackTrace&&Error.captureStackTrace(this,ue)}getMessage(){return`[${this.code}] ${this.message}`}}const Dr=new class{constructor(){this.listeners=new Map,this.pendingRequests=new Map,this.isListening=!1}startListening(){this.isListening||(window.addEventListener("message",this.handleMessage.bind(this)),this.isListening=!0)}handleMessage(r){try{const n=typeof r.data=="string"?JSON.parse(r.data):r.data;if(!n||typeof n!="object")return;if(t=n,Array.isArray(t)&&t.every(e=>wt(e)))return void this.handleBatchResponse(n);if(wt(n))return void this.handleJsonRpcResponse(n);(function(e){if(!e||typeof e!="object")return!1;const o=e;return o.jsonrpc==="2.0"&&typeof o.method=="string"&&!("id"in o)})(n)&&this.handleJsonRpcNotification(n)}catch{}var t}handleBatchResponse(r){r.forEach(t=>{this.handleJsonRpcResponse(t)})}handleJsonRpcResponse(r){const{id:t}=r;if(t===null)return;const n=this.pendingRequests.get(t);if(n){if(clearTimeout(n.timeoutHandle),this.pendingRequests.delete(t),"error"in r){const e=function(o){switch(o.code){case te.ParseError:return new ue({code:te.ParseError,message:"Parse error",data:o.data});case te.InvalidRequest:return new ue({code:te.InvalidRequest,message:"Invalid Request",data:o.data});case te.MethodNotFound:return new ue({code:te.MethodNotFound,message:o.message||"Method not found",data:o.data});case te.InvalidParams:return new ue({code:te.InvalidParams,message:"Invalid params",data:o.data});case te.InternalError:return new ue({code:te.InternalError,message:"Internal error",data:o.data});default:return o.code>=te.ServerErrorStart&&(o.code,te.ServerErrorEnd),new ue(o)}}(r.error);n.reject(e)}else if("result"in r)try{const e=this.parsePayload(r.result);n.resolve(e)}catch(e){n.reject(e instanceof Error?e:new Error(`Failed to parse result for method ${n.method}`))}}}handleJsonRpcNotification(r){const{method:t,params:n}=r,e=this.listeners.get(t);if(e){const o=this.parsePayload(n);e.forEach(i=>{try{i(o)}catch(a){console.error(`Error in handler for method ${t}:`,a)}})}}parsePayload(r){if(typeof r=="string")try{const t=window.atob(r);return JSON.parse(t)}catch{try{return JSON.parse(r)}catch{return r}}return r}waitForResponse(r,t,n=5e3){return this.startListening(),new Promise((e,o)=>{const i=this.pendingRequests.get(r);i&&(clearTimeout(i.timeoutHandle),i.reject(new Error(`New request for ${t} (id: ${r}) cancelled previous request`)));const a=setTimeout(()=>{this.pendingRequests.delete(r),o(new Error(`Timeout waiting for response from ${t} (id: ${r})`))},n);this.pendingRequests.set(r,{resolve:e,reject:o,timeoutHandle:a,method:t})})}onAction(r,t){this.startListening(),this.listeners.has(r)||this.listeners.set(r,new Set);const n=this.listeners.get(r);return n.add(t),()=>{n.delete(t),n.size===0&&this.listeners.delete(r)}}cleanup(){this.pendingRequests.forEach(r=>{clearTimeout(r.timeoutHandle),r.reject(new Error("Message listener cleaned up"))}),this.pendingRequests.clear(),this.listeners.clear(),this.isListening&&(window.removeEventListener("message",this.handleMessage.bind(this)),this.isListening=!1)}};function kr(r){var t;const n=window.peraMobileInterface,e=function(){var i;return(i=window.webkit)===null||i===void 0?void 0:i.messageHandlers}(),o=JSON.stringify(r);n!=null&&n.handleRequest&&n.handleRequest(o),!((t=e==null?void 0:e.handleRequest)===null||t===void 0)&&t.postMessage&&e.handleRequest.postMessage(o)}function jr(r,t=5e3,n){const e=vt(),o=Dr.waitForResponse(e,r,t),i=function(a,s,f){const h=f??vt();return Object.assign(Object.assign({jsonrpc:"2.0",method:a},s!==void 0),{id:h})}(r,n,e);return kr(i),o}function Yr({isWebWalletAvailable:r,shouldDisplayNewBadge:t,shouldUseSound:n,compactMode:e,promoteMobile:o,singleAccount:i,selectedAccount:a,isInWebview:s}){return{open:(f={isWebWalletAvailable:r,shouldDisplayNewBadge:t,shouldUseSound:n,compactMode:e,promoteMobile:o,singleAccount:i,selectedAccount:a,isInWebview:s},h=>{const{isWebWalletAvailable:c,shouldDisplayNewBadge:w,shouldUseSound:b,compactMode:y,promoteMobile:A,singleAccount:E,selectedAccount:I,isInWebview:S}=f;if(S){const _=Mr(h,{singleAccount:E,selectedAccount:I});window.open(_,"_blank")}else if(!document.getElementById(xe)){const _=`${h}&algorand=true`;Je(xe).innerHTML=`<pera-wallet-connect-modal uri="${_}" is-web-wallet-avaliable="${c}" should-display-new-badge="${w}" should-use-sound="${b}" compact-mode="${y}" promote-mobile="${A}" single-account="${E}" selected-account="${I||""}" is-in-webview="${S||!1}"></pera-wallet-connect-modal>`}}),close:()=>fe(xe)};var f}class $r{constructor(t){this.bridge=(t==null?void 0:t.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=(t==null?void 0:t.shouldShowSignTxnToast)===void 0||t.shouldShowSignTxnToast,this.chainId=t==null?void 0:t.chainId,this.isInWebview=!1,this.compactMode=(t==null?void 0:t.compactMode)||!1,this.singleAccount=(t==null?void 0:t.singleAccount)||!1,this.algodClients=new Map}get platform(){return function(){const t=ke();let n=null;return(t==null?void 0:t.type)==="pera-wallet"?n="mobile":(t==null?void 0:t.type)==="pera-wallet-web"&&(n="web"),n}()}get isConnected(){var t;return this.platform==="mobile"?!!this.connector:this.platform==="web"&&!!(!((t=ke())===null||t===void 0)&&t.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}checkIsInWebview(){return ne(this,void 0,void 0,function*(){if(Ae())try{return(yield function(t=2e3){return jr("getPublicSettings",t)}())!==null}catch{return!1}return!1})}connect(t){return new Promise((n,e)=>ne(this,void 0,void 0,function*(){var o;try{if(!((o=this.connector)===null||o===void 0)&&o.connected)try{yield this.connector.killSession()}catch{}const{isWebWalletAvailable:i,bridgeURL:a,webWalletURL:s,shouldDisplayNewBadge:f,shouldUseSound:h,promoteMobile:c}=yield ve();this.isInWebview=yield this.checkIsInWebview();const w=Lr({resolve:n,reject:e,webWalletURL:s,chainId:this.chainId,isCompactMode:this.compactMode});i&&(window.onWebWalletConnect=w),this.connector=new Ke({bridge:this.bridge||a||"https://bridge.walletconnect.org",qrcodeModal:Yr({isWebWalletAvailable:i,shouldDisplayNewBadge:f,shouldUseSound:h,compactMode:this.compactMode,promoteMobile:c,singleAccount:this.singleAccount,selectedAccount:t==null?void 0:t.selectedAccount,isInWebview:this.isInWebview})}),yield this.connector.createSession({chainId:this.chainId||4160}),function(b,y){var A,E,I,S;const _=document.getElementById(b),L=(E=(A=_==null?void 0:_.querySelector(b.replace("-wrapper","")))===null||A===void 0?void 0:A.shadowRoot)===null||E===void 0?void 0:E.querySelector(`.${Nr}`),U=(S=(I=L==null?void 0:L.querySelector("pera-wallet-modal-header"))===null||I===void 0?void 0:I.shadowRoot)===null||S===void 0?void 0:S.getElementById("pera-wallet-modal-header-close-button");U==null||U.addEventListener("click",()=>{y(),fe(b)})}(xe,()=>e(new X({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user"))),this.connector.on("connect",(b,y)=>{var A,E;b&&e(b),n(((A=this.connector)===null||A===void 0?void 0:A.accounts)||[]),Wt(((E=this.connector)===null||E===void 0?void 0:E.accounts)||[])})}catch(i){console.log(i),e(new X({type:"SESSION_CONNECT",detail:i},i.message||"There was an error while connecting to Pera Wallet"))}}))}reconnectSession(){return new Promise((t,n)=>ne(this,void 0,void 0,function*(){var e,o;try{const i=ke();if(!i)return void t([]);if((i==null?void 0:i.type)==="pera-wallet-web"){const{isWebWalletAvailable:a}=yield ve();a?t(i.accounts||[]):n(new X({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.isInWebview=yield this.checkIsInWebview(),this.connector&&t(this.connector.accounts||[]),this.bridge=((e=function(){var a;const s=(a=Te())===null||a===void 0?void 0:a.getItem(Ee.WALLETCONNECT);return s?JSON.parse(s):null}())===null||e===void 0?void 0:e.bridge)||"",this.bridge&&(this.connector=new Ke({bridge:this.bridge}),t(((o=this.connector)===null||o===void 0?void 0:o.accounts)||[])),this.isConnected||t([])}catch(i){yield this.disconnect(),n(new X({type:"SESSION_RECONNECT",detail:i},i.message||"There was an error while reconnecting to Pera Wallet"))}}))}disconnect(){var t;return ne(this,void 0,void 0,function*(){let n;this.isConnected&&this.platform==="mobile"&&(n=(t=this.connector)===null||t===void 0?void 0:t.killSession(),n==null||n.then(()=>{this.connector=null})),yield Bt()})}verifySignature(t,n,e){try{const{publicKey:o}=be.decodeAddress(e),i=function(...a){const s=a.reduce((c,w)=>c+w.length,0),f=new Uint8Array(s);let h=0;for(let c=0;c<a.length;c++)f.set(a[c],h),h+=a[c].length;return f}(Sr,t);return Vt(i,n,o)}catch{return!1}}signTransactionWithMobile(t){return ne(this,void 0,void 0,function*(){const n=ht("algo_signTxn",[t]);try{try{const{silent:e}=yield ve(),o=(yield this.connector.sendCustomRequest(n,{forcePushNotification:!e})).filter(Boolean);return typeof o[0]=="string"?o.map(Oe):o.map(i=>Uint8Array.from(i))}catch(e){return yield Promise.reject(new X({type:"SIGN_TRANSACTIONS",detail:e},e.message||"Failed to sign transaction"))}}finally{fe(qe),fe(Fe)}})}signTransactionWithWeb(t,n){return new Promise((e,o)=>pt({signTxnRequestParams:t,webWalletURL:n,method:"SIGN_TXN",resolve:e,reject:o}))}signDataWithMobile({data:t,signer:n,chainId:e}){return ne(this,void 0,void 0,function*(){const o=ht("algo_signData",t.map(i=>Object.assign(Object.assign({},i),{signer:n,chainId:e})));try{try{const{silent:i}=yield ve(),a=yield this.connector.sendCustomRequest(o,{forcePushNotification:!i});return typeof a[0]=="string"?a.map(Oe):a.map(s=>Uint8Array.from(s))}catch(i){return yield Promise.reject(new X({type:"SIGN_TRANSACTIONS",detail:i},i.message||"Failed to sign transaction"))}}finally{fe(qe),fe(Fe)}})}signDataWithWeb({data:t,signer:n,chainId:e,webWalletURL:o}){return new Promise((i,a)=>pt({method:"SIGN_DATA",signTxnRequestParams:t,signer:n,chainId:e,webWalletURL:o,resolve:i,reject:a}))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}getAlgodClient(t){if(!this.algodClients.has(t)){const n=new Wr({network:t,providerType:"algodev"});this.algodClients.set(t,n)}return this.algodClients.get(t)}getAccountAuthAddr(t,n){return ne(this,void 0,void 0,function*(){try{const e=function(a){return a===Dt||a===4160?"mainnet":a===kt?"testnet":"mainnet"}(n),o=this.getAlgodClient(e),i=yield o.client.accountInformation(t).do();return i.authAddr?String(i.authAddr):null}catch{return null}})}signTransaction(t,n){return ne(this,void 0,void 0,function*(){if(this.platform==="mobile"&&(Ae()&&!this.isInWebview?ut():!Ae()&&this.shouldShowSignTxnToast&&dt(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");const e=t.flatMap(o=>o.map(i=>function(a,s){let f;s&&!(a.signers||[]).includes(s)&&(f=[]);const h={txn:(c=a.txn,Buffer.from(be.encodeUnsignedTransaction(c)).toString("base64"))};var c;return Array.isArray(f)&&(h.signers=f),a.authAddr&&(h.authAddr=a.authAddr),a.message&&(h.message=a.message),a.msig&&(h.msig=a.msig),h}(i,n)));if(this.platform==="web"){const{webWalletURL:o}=yield ve();return this.signTransactionWithWeb(e,o)}return this.signTransactionWithMobile(e)})}signData(t,n,e){return ne(this,void 0,void 0,function*(){const o=this.chainId||4160;if(this.platform==="mobile"&&(Ae()&&!this.isInWebview?ut():!Ae()&&this.shouldShowSignTxnToast&&dt(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");let i;if(this.platform==="web"){const{webWalletURL:a}=yield ve();i=yield this.signDataWithWeb({data:t,signer:n,chainId:o,webWalletURL:a})}else{const a=t.map(s=>Object.assign(Object.assign({},s),{data:Buffer.from(s.data).toString("base64")}));i=yield this.signDataWithMobile({data:a,signer:n,chainId:o})}if(e){const a=(yield this.getAccountAuthAddr(n,o))||n;for(let s=0;s<i.length;s++){const f=i[s],h=t[s].data;if(!this.verifySignature(h,f,a))throw new X({type:"SIGN_DATA_VERIFICATION_FAILED"},`Signature verification failed for data item at index ${s}`)}}return i})}}typeof window<"u"&&(window.global=window,window.Buffer=window.Buffer||d,jt(()=>import("./App-a422543c-DMpsRxkS.js"),__vite__mapDeps([0,1,2,3])));const Hr=Object.freeze(Object.defineProperty({__proto__:null,PeraWalletConnect:$r},Symbol.toStringTag,{value:"Module"}));export{qe as A,Fe as E,fe as P,Nr as R,zr as T,xe as b,Ae as d,Gr as g,Rr as h,Hr as i,Mr as m,_r as y};
